; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		dtkstring.asm
;		Purpose:	Detokenise string
;		Created:	17th December 2023
;		Reviewed:   No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************
		
		.section code

; ************************************************************************************************
;
;										Detokenise string
;
; ************************************************************************************************

TOKDString:
		lda 	#4 							; string.
		jsr 	DTKColour	
		lda 	#'"' 						; open quote
		jsr 	TOKDOutput
		jsr 	TOKDGet 					; string length
		tax
		beq 	_TOKDSExit
_TOKDSLoop: 								; output string.
		jsr 	TOKDGet
		jsr 	TOKDOutput
		dex
		bne 	_TOKDSLoop
_TOKDSExit:		
		lda 	#'"' 						; closing quote.
		jsr 	TOKDOutput
		rts				

		.send code
		
; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;	 	30/06/23 		Test was using bmi for complete so didn't work for > 127.
;
; ************************************************************************************************

