; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		basic.asm
;		Purpose:	BASIC main program
;		Created:	25th November 2023
;		Reviewed:	No
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************


; ************************************************************************************************
;
;										   Main Program
;
; ************************************************************************************************

		.section code

boot:	jmp 	cold
cold:	
		lda 	#(Program & $FF)
		sta 	codePtr
		lda 	#(Program >> 8)+1
		sta 	codePtr+1
		ldx 	#0
		ldy 	#4
		jsr 	EvaluateTerm

h1:		bra 	h1		
		.send 	code

		.include "_include.inc"

ErrorHandler:
		ldx 	#$EE
		ldy 	#$EE
		.byte 	3
_EHLoop:
		bra 	_EHLoop		
		.section code
		.align 	256
Program:
		.binary "build/tokenised.dat"


		.send code


; ************************************************************************************************
;
;									Changes and Updates
;
; ************************************************************************************************
;
;		Date			Notes
;		==== 			=====
;
; ************************************************************************************************

