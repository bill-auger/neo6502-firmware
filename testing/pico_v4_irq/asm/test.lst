
; 64tass Turbo Assembler Macro V1.59.3120 listing file
; 64tass -b --mr65c02 -Wall -o asm/test.bin -L asm/test.lst asm/test.asm
; Sun Nov 19 20:29:15 2023

;Offset	;Hex		;Monitor	;Source

;******  Processing input file: asm/test.asm

.fc00					lfc00
.fc00	d8		cld			cld
.fc01	58		cli			cli
.fc02	a2 ff		ldx #$ff		ldx #$ff
.fc04	9a		txs			txs
.fc05	a9 ff		lda #$ff		lda 	#-1
.fc07	85 81		sta $81			sta 	$81
.fc09					loop2:
.fc09	a9 03		lda #$03		lda 	#3
.fc0b	20 2c fc	jsr $fc2c		jsr 	alphabet
.fc0e	e6 81		inc $81			inc 	$81
.fc10	a5 81		lda $81			lda 	$81
.fc12	20 40 fc	jsr $fc40		jsr 	lprinthex
.fc15	a9 0d		lda #$0d		lda 	#13
.fc17	20 62 fc	jsr $fc62		jsr 	lprintchar
.fc1a	a9 00		lda #$00		lda 	#0
.fc1c					_opcode:
.fc1c	80 eb		bra $fc09		bra 	loop2			; works. bra loop2 doesn't.
.fc1e					delay:
.fc1e	a0 00		ldy #$00		ldy 	#0
.fc20	a2 00		ldx #$00		ldx 	#0
.fc22					loop1:
.fc22	88		dey			dey
.fc23	d0 fd		bne $fc22		bne 	loop1
.fc25	ca		dex			dex
.fc26	d0 fa		bne $fc22		bne 	loop1
.fc28	3a		dec a			dec		a
.fc29	d0 f7		bne $fc22		bne 	loop1
.fc2b	60		rts			rts
.fc2c					alphabet:
.fc2c	a2 05		ldx #$05		ldx 	#5
.fc2e	da		phx			phx
.fc2f	7a		ply			ply
.fc30					_loop1:
.fc30	98		tya			tya
.fc31	18		clc			clc
.fc32	69 2c		adc #$2c		adc 	#$2C
.fc34	20 40 fc	jsr $fc40		jsr lprinthex
.fc37	88		dey			dey
.fc38	10 f6		bpl $fc30		bpl 	_loop1
.fc3a	a9 2a		lda #$2a		lda 	#42
.fc3c	20 40 fc	jsr $fc40		jsr 	lprinthex
.fc3f	60		rts			rts
.fc40					lprinthex:
.fc40	48		pha			pha
.fc41	48		pha			pha
.fc42	a9 20		lda #$20		lda 	#32
.fc44	20 62 fc	jsr $fc62		jsr 	lprintchar
.fc47	68		pla			pla
.fc48	4a		lsr a			lsr 	a
.fc49	4a		lsr a			lsr 	a
.fc4a	4a		lsr a			lsr 	a
.fc4b	4a		lsr a			lsr 	a
.fc4c	20 54 fc	jsr $fc54		jsr 	lprintnibble
.fc4f	68		pla			pla
.fc50	20 54 fc	jsr $fc54		jsr 	lprintnibble
.fc53	60		rts			rts
.fc54					lprintnibble:
.fc54	29 0f		and #$0f		and 	#15
.fc56	c9 0a		cmp #$0a		cmp 	#10
.fc58	90 02		bcc $fc5c		bcc 	_nothex
.fc5a	69 06		adc #$06		adc 	#6
.fc5c					_nothex:
.fc5c	69 30		adc #$30		adc 	#48
.fc5e	20 62 fc	jsr $fc62		jsr 	lprintchar
.fc61	60		rts			rts
.fc62					lprintchar:
.fc62	48		pha			pha
.fc63					waitfree:
.fc63	ad 12 d0	lda $d012		lda $d012
.fc66	d0 fb		bne $fc63		bne waitfree
.fc68	68		pla			pla
.fc69	29 7f		and #$7f		and #$7f
.fc6b	8d 12 d0	sta $d012		sta $d012
.fc6e	60		rts			rts
>fffa	00 fc					.word 	$FC00
>fffc	00 fc					.word 	$FC00
>fffe	00 fc					.word	$FC00

;******  End of listing
